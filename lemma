#!/usr/bin/env lua
---
-- The Lemma REPL
---

-- TODO: more special forms?

require 'exec'
LEMMA_VERSION = 0.1

---
-- Execute command line argument or start a REPL
---
local f = ...
lemma['*sys-args*'] = Vectorize{...}

function update_prompt()
	prompt = lemma['*ns*']..'> '
end

stdlib()

if not f or f == '--' then
	f = io.input()
	update_prompt()
	print('Lemma '..LEMMA_VERSION..' (on '.. _VERSION..')')
end

exec(f)
